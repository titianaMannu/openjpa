<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>TypedProperties.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">tests</a> &gt; <a href="../index.html" class="el_bundle">openjpa-lib</a> &gt; <a href="index.source.html" class="el_package">org.apache.openjpa.lib.util</a> &gt; <span class="el_source">TypedProperties.java</span></div><h1>TypedProperties.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
package org.apache.openjpa.lib.util;

import java.util.Properties;

/**
 * A specialization of the {@link Properties} map type with added
 * convenience methods to retrieve and set options as primitive values.
 * The internal representation of all data is kept in string form.
 *
 * @author Abe White
 */
public class TypedProperties extends Properties {

    
    private static final long serialVersionUID = 1L;

    /**
     * Default constructor.
     */
    public TypedProperties() {
<span class="nc" id="L39">        super();</span>
<span class="nc" id="L40">    }</span>

    /**
     * Construct the properties instance with the given set of defaults.
     *
     * @see Properties#Properties(Properties)
     */
    public TypedProperties(Properties defaults) {
<span class="nc" id="L48">        super(defaults);</span>
<span class="nc" id="L49">    }</span>

    /**
     * Return the property under the given key as a boolean, or false if
     * it does not exist and has no set default.
     */
    public boolean getBooleanProperty(String key) {
<span class="nc" id="L56">        return getBooleanProperty(key, false);</span>
    }

    /**
     * Return the property under the given key as a boolean, or the given
     * default if it does not exist.
     */
    public boolean getBooleanProperty(String key, boolean def) {
<span class="nc" id="L64">        String val = getProperty(key);</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">        if (val == null)</span>
<span class="nc" id="L66">            return def;</span>
<span class="nc bnc" id="L67" title="All 4 branches missed.">        return &quot;t&quot;.equalsIgnoreCase(val) || &quot;true&quot;.equalsIgnoreCase(val);</span>
    }

    /**
     * Return the property under the given key as a float, or 0 if
     * it does not exist and has no set default.
     *
     * @throws NumberFormatException on parse error
     */
    public float getFloatProperty(String key) {
<span class="nc" id="L77">        return getFloatProperty(key, 0F);</span>
    }

    /**
     * Return the property under the given key as a float, or the given
     * default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public float getFloatProperty(String key, float def) {
<span class="nc" id="L87">        String val = getProperty(key);</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">        return (val == null) ? def : Float.parseFloat(val);</span>
    }

    /**
     * Return the property under the given key as a double, or 0 if
     * it does not exist and has no set default.
     *
     * @throws NumberFormatException on parse error
     */
    public double getDoubleProperty(String key) {
<span class="nc" id="L98">        return getDoubleProperty(key, 0D);</span>
    }

    /**
     * Return the property under the given key as a double, or the given
     * default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public double getDoubleProperty(String key, double def) {
<span class="nc" id="L108">        String val = getProperty(key);</span>
<span class="nc bnc" id="L109" title="All 2 branches missed.">        return (val == null) ? def : Double.parseDouble(val);</span>
    }

    /**
     * Return the property under the given key as a long, or 0 if
     * it does not exist and has no set default.
     *
     * @throws NumberFormatException on parse error
     */
    public long getLongProperty(String key) {
<span class="nc" id="L119">        return getLongProperty(key, 0L);</span>
    }

    /**
     * Return the property under the given key as a double, or the given
     * default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public long getLongProperty(String key, long def) {
<span class="nc" id="L129">        String val = getProperty(key);</span>
<span class="nc bnc" id="L130" title="All 2 branches missed.">        return (val == null) ? def : Long.parseLong(val);</span>
    }

    /**
     * Return the property under the given key as an int, or 0 if
     * it does not exist and has no set default.
     *
     * @throws NumberFormatException on parse error
     */
    public int getIntProperty(String key) {
<span class="nc" id="L140">        return getIntProperty(key, 0);</span>
    }

    /**
     * Return the property under the given key as an int, or the given
     * default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public int getIntProperty(String key, int def) {
<span class="nc" id="L150">        String val = getProperty(key);</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">        return (val == null) ? def : Integer.parseInt(val);</span>
    }

    /**
     * Overrides {@link Properties#setProperty(String,String)} to remove
     * the key if the given value is &lt;code&gt;null&lt;/code&gt;.
     *
     * @see Properties#setProperty(String,String)
     */
    @Override
    public Object setProperty(String key, String val) {
<span class="nc bnc" id="L162" title="All 2 branches missed.">        if (val == null)</span>
<span class="nc" id="L163">            return remove(key);</span>
<span class="nc" id="L164">        return super.setProperty(key, val);</span>
    }

    /**
     * Set the given key to a string version of the given value.
     *
     * @see Properties#setProperty(String,String)
     */
    public void setProperty(String key, boolean val) {
<span class="nc" id="L173">        setProperty(key, String.valueOf(val));</span>
<span class="nc" id="L174">    }</span>

    /**
     * Set the given key to a string version of the given value.
     *
     * @see Properties#setProperty(String,String)
     */
    public void setProperty(String key, double val) {
<span class="nc" id="L182">        setProperty(key, String.valueOf(val));</span>
<span class="nc" id="L183">    }</span>

    /**
     * Set the given key to a string version of the given value.
     *
     * @see Properties#setProperty(String,String)
     */
    public void setProperty(String key, float val) {
<span class="nc" id="L191">        setProperty(key, String.valueOf(val));</span>
<span class="nc" id="L192">    }</span>

    /**
     * Set the given key to a string version of the given value.
     *
     * @see Properties#setProperty(String,String)
     */
    public void setProperty(String key, int val) {
<span class="nc" id="L200">        setProperty(key, String.valueOf(val));</span>
<span class="nc" id="L201">    }</span>

    /**
     * Set the given key to a string version of the given value.
     *
     * @see Properties#setProperty(String,String)
     */
    public void setProperty(String key, long val) {
<span class="nc" id="L209">        setProperty(key, String.valueOf(val));</span>
<span class="nc" id="L210">    }</span>

    /**
     * Remove the given property.
     */
    public String removeProperty(String key) {
<span class="nc" id="L216">        Object val = remove(key);</span>
<span class="nc bnc" id="L217" title="All 2 branches missed.">        return (val == null) ? null : val.toString();</span>
    }

    /**
     * Remove the given property, or return the given default if it does
     * not exist.
     */
    public String removeProperty(String key, String def) {
<span class="nc bnc" id="L225" title="All 2 branches missed.">        if (!containsKey(key))</span>
<span class="nc" id="L226">            return def;</span>
<span class="nc" id="L227">        return removeProperty(key);</span>
    }

    /**
     * Remove the property under the given key as a boolean.
     */
    public boolean removeBooleanProperty(String key) {
<span class="nc" id="L234">        String val = removeProperty(key);</span>
<span class="nc bnc" id="L235" title="All 4 branches missed.">        return &quot;t&quot;.equalsIgnoreCase(val) || &quot;true&quot;.equalsIgnoreCase(val);</span>
    }

    /**
     * Remove the property under the given key as a boolean, or return the
     * given default if it does not exist.
     */
    public boolean removeBooleanProperty(String key, boolean def) {
<span class="nc bnc" id="L243" title="All 2 branches missed.">        if (!containsKey(key))</span>
<span class="nc" id="L244">            return def;</span>
<span class="nc" id="L245">        return removeBooleanProperty(key);</span>
    }

    /**
     * Remove the property under the given key as a double.
     *
     * @throws NumberFormatException on parse error
     */
    public double removeDoubleProperty(String key) {
<span class="nc" id="L254">        String val = removeProperty(key);</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">        return (val == null) ? 0D : Double.parseDouble(val);</span>
    }

    /**
     * Remove the property under the given key as a double, or return the
     * given default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public double removeDoubleProperty(String key, double def) {
<span class="nc bnc" id="L265" title="All 2 branches missed.">        if (!containsKey(key))</span>
<span class="nc" id="L266">            return def;</span>
<span class="nc" id="L267">        return removeDoubleProperty(key);</span>
    }

    /**
     * Remove the property under the given key as a float.
     *
     * @throws NumberFormatException on parse error
     */
    public float removeFloatProperty(String key) {
<span class="nc" id="L276">        String val = removeProperty(key);</span>
<span class="nc bnc" id="L277" title="All 2 branches missed.">        return (val == null) ? 0F : Float.parseFloat(val);</span>
    }

    /**
     * Remove the property under the given key as a float, or return the
     * given default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public float removeFloatProperty(String key, float def) {
<span class="nc bnc" id="L287" title="All 2 branches missed.">        if (!containsKey(key))</span>
<span class="nc" id="L288">            return def;</span>
<span class="nc" id="L289">        return removeFloatProperty(key);</span>
    }

    /**
     * Remove the property under the given key as a int.
     *
     * @throws NumberFormatException on parse error
     */
    public int removeIntProperty(String key) {
<span class="nc" id="L298">        String val = removeProperty(key);</span>
<span class="nc bnc" id="L299" title="All 2 branches missed.">        return (val == null) ? 0 : Integer.parseInt(val);</span>
    }

    /**
     * Remove the property under the given key as a int, or return the
     * given default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public int removeIntProperty(String key, int def) {
<span class="nc bnc" id="L309" title="All 2 branches missed.">        if (!containsKey(key))</span>
<span class="nc" id="L310">            return def;</span>
<span class="nc" id="L311">        return removeIntProperty(key);</span>
    }

    /**
     * Remove the property under the given key as a long.
     *
     * @throws NumberFormatException on parse error
     */
    public long removeLongProperty(String key) {
<span class="nc" id="L320">        String val = removeProperty(key);</span>
<span class="nc bnc" id="L321" title="All 2 branches missed.">        return (val == null) ? 0L : Long.parseLong(val);</span>
    }

    /**
     * Remove the property under the given key as a long, or return the
     * given default if it does not exist.
     *
     * @throws NumberFormatException on parse error
     */
    public long removeLongProperty(String key, long def) {
<span class="nc bnc" id="L331" title="All 2 branches missed.">        if (!containsKey(key))</span>
<span class="nc" id="L332">            return def;</span>
<span class="nc" id="L333">        return removeLongProperty(key);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>